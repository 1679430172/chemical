<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>生成标签</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="/web/component/layui/css/layui.css" media="all">
    <script src="/web/component/layui/layui.js"></script>
    <script type="text/javascript" src="/web/component/js/jquery-3.3.1.min.js" th:src="@{/web/component/js/jquery-3.3.1.min.js}"></script>
    <script>
        layui.use('table', function(){
            $("#sub").click(function () {
                var data1="name="+$("#name").text()+"&count="+$("#count").text()+"&company="+$("#company").text()+"&number="+$("#number").text()+"&phone="+$("#phone").text();
                window.location.href="/Order/imgUpload?"+data1;
            });

            var nowTime=new Date();
            nowTime.setMonth(nowTime.getDate());

            $("#name").text(geta("name"));
            $("#count").text(geta("amount"));
            $("#company").text("广州远达新材料有限公司");
            $("#number").text(timeStamp2String(new Date().getTime()-240*60*60*1000));
            $("#phone").text("18620540041");
        });

        function geta(variable) {
            var query = window.location.search.substring(1);
            var vars = query.split("&");
            for (var i=0;i<vars.length;i++) {
                var pair = vars[i].split("=");
                if(pair[0] == variable){
                    return decodeURI(pair[1]);
                }
            }
            return(false);
        }

        //在Jquery里格式化Date日期时间数据
        function timeStamp2String(time){
            var datetime = new Date();
            datetime.setTime(time);
            var year = datetime.getFullYear();
            var month = datetime.getMonth() + 1 < 10 ? "0" + (datetime.getMonth() + 1) : datetime.getMonth() + 1;
            var date = datetime.getDate() < 10 ? "0" + datetime.getDate() : datetime.getDate();
            return ""+year  + month + date;
        }
    </script>
</head>
<body>
<center>
    <br>
    <table border="1" cellspacing="0px" style="font-size: 20px;">
        <tr><th colspan="2">产品标签</th></tr>
        <tr>
            <td width="160px">产品名称</td>
            <td width="230px" contenteditable='true' id="name">123</td>
        </tr>
        <tr>
            <td>数量(kg)</td>
            <td contenteditable='true' id="count">123</td>
        </tr>
        <tr>
            <td>批号</td>
            <td contenteditable='true' id="number">123</td>
        </tr>
        <tr>
            <td>公司名称</td>
            <td contenteditable='true' id="company">123</td>
        </tr>
        <tr>
            <td>联系电话</td>
            <td contenteditable='true' id="phone">18620540041</td>
        </tr>
    </table>
    <br>
    <button class="layui-btn layui-btn-lg" id="sub">打印</button>
</center>
</body>
</html>