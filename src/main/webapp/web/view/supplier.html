<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="/web/component/layui/css/layui.css" th:src="@{/web/component/layui/css/layui.css}"  media="all">
    <script type="text/javascript" src="/web/component/js/jquery-3.3.1.min.js" th:src="@{/web/component/js/jquery-3.3.1.min.js}"></script>
    <script src="/web/component/layui/layui.js" th:src="@{/web/component/layui/layui.js}" ></script>
</head>
<script type="text/javascript" >
    layui.use(["form","table","layer","upload"], function() {
        var table = layui.table;
        var form = layui.form;
        var layer = layui.layer;
        var upload = layui.upload;

        //第一个实例
        table.render({
            elem: '#demo'

            , url: '/supplier/supplierInquire.do' //数据接口
            ,page:true
            ,limit:20
            ,toolbar: '#toolbarDemo'
            ,defaultToolbar:["filter"]
            ,limits:[1,3,5]
            , cols: [
                [ //表头
                    {field:'',title:'',type:'checkbox'}
                    ,{title: '序号', width: 80,width: 150, sort: true,  templet:"<div>{{ d.LAY_INDEX }}</div>"}
                    , {field: 'userName', title: '业务员', width: 80}
                    , {field: 'name', title: '供应商名称', width: 80, sort: true}
                    , {field: 'phone', title: '电话', width: 150}
                    , {field: 'wechat', title: '微信或qq', width: 177}
                    , {field: 'status', title: '状态', width: 80, sort: true}
                    , {field: 'createTime', title: '创建时间', width: 200, sort: true}
                    ,{field:"",title:'操作',toolbar:'#barDemo'}
                ]
            ]
        })

        //监听表头
        table.on('toolbar(test)',function (obj) {
            var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）

            if(layEvent === 'add'){
                layer.open({
                    type: 2,
                    //offset: 'auto',、
                    skin: 'layui-layer-rim',
                    area: ['314px', '450px'],
                    content: '/web/view/supplierAdd.html', //这里content是一个URL，如果你不想让iframe出现滚动条，你还可以content: ['http://sentsin.com', 'no']
                    end:function () {
                        table.reload('demo', {
                            url: '/supplier/supplierInquire.do'
                        });
                    }
                });
            }else if(layEvent === 'delete'){}
        })
    })
</script>
<script type="text/html" id="toolbarDemo">
    <div class="layui-btn-container">
        <button class="layui-btn layui-btn-sm" lay-event="add">添加</button>
        <button class="layui-btn layui-btn-sm" lay-event="delete">删除</button>
        <button type="button"  id="test1" class="layui-btn layui-btn-sm" lay-event="test1">
            <i class="layui-icon">&#xe67c;</i>批量导入
        </button>
        <button type="button"   class="layui-btn layui-btn-sm" lay-event="text" id="text">
            <i class="layui-icon">&#xe601;</i>下载
        </button>
    </div>
</script>
<body>
<table id="demo" lay-filter="test"></table>
</body>
</html>